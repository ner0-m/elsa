ARG UBUNTU_VERSION=22.04 
 
FROM ubuntu:${UBUNTU_VERSION} as base
MAINTAINER Tobias Lasser <lasser@in.tum.de>
MAINTAINER David Frank <frankd@in.tum.de>

LABEL Description="Base image for elsa build system (git, wget, ninja)"
 
ENV DEBIAN_FRONTEND=noninteractive 
 
# Print some infos about the os 
RUN cat /etc/os-release 
  
# Add install scripts
ADD scripts/install_base.sh /tmp/scripts/install_base.sh

# Run the base install script (installing stuff like git, gcc, ninja, numpy and others)
RUN /tmp/scripts/install_base.sh
RUN apt update && apt upgrade -qqy 
 
# Add tests scripts at the end 
ADD tests/test_base.sh /tmp/tests/test_base.sh

CMD bash
